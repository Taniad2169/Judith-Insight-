<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebSwan - Prospect Form & Estimate</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 40px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .main-container {
            max-width: 1000px;
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        /* =================== HEADER =================== */
        .ws-header {
            background: rgba(255,255,255,0.97);
            border-radius: 24px;
            padding: 30px 40px;
            display: flex;
            align-items: center;
            gap: 18px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            border: 1px solid rgba(255,255,255,0.4);
        }
        .ws-logo {
            width: 62px; height: 62px;
            background: linear-gradient(45deg, #1d334a, #f2970f);
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            font-size: 30px; color: white;
            box-shadow: 0 8px 20px rgba(242,151,15,0.35);
            flex-shrink: 0;
        }
        .ws-header-text h1 { color: #1d334a; font-size: 28px; font-weight: 800; }
        .ws-header-text p { color: #f2970f; font-size: 13px; font-weight: 700; text-transform: uppercase; letter-spacing: 2px; margin-top: 3px; }

        /* =================== CARDS =================== */
        .card {
            background: rgba(255,255,255,0.97);
            border-radius: 24px;
            padding: 35px 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.12);
            border: 1px solid rgba(255,255,255,0.4);
        }
        .card-title {
            font-size: 22px; font-weight: 800; color: #1d334a;
            margin-bottom: 6px; display: flex; align-items: center; gap: 10px;
        }
        .card-subtitle { color: #718096; font-size: 14px; margin-bottom: 28px; }
        .section-divider { height: 3px; background: linear-gradient(90deg, #f2970f, #1d334a); border-radius: 10px; margin-bottom: 28px; }

        /* =================== FORM FIELDS =================== */
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 18px; }
        .form-full { grid-column: 1 / -1; }
        .field-group { display: flex; flex-direction: column; gap: 6px; }
        .field-group label { font-size: 13px; font-weight: 700; color: #4a5568; text-transform: uppercase; letter-spacing: 0.5px; }
        .field-group input, .field-group select {
            padding: 13px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 15px;
            color: #1d334a;
            background: #f8faff;
            outline: none;
            transition: all 0.2s;
            width: 100%;
        }
        .field-group input:focus, .field-group select:focus {
            border-color: #f2970f;
            background: white;
            box-shadow: 0 0 0 3px rgba(242,151,15,0.12);
        }

        /* =================== BUTTONS =================== */
        .btn {
            padding: 14px 24px; border: none; border-radius: 12px;
            font-size: 15px; font-weight: 700; cursor: pointer;
            transition: all 0.2s; display: inline-flex; align-items: center; gap: 8px;
        }
        .btn:hover { transform: translateY(-2px); }
        .btn-primary { background: linear-gradient(45deg, #1d334a, #2a4a6a); color: white; box-shadow: 0 6px 18px rgba(29,51,74,0.3); }
        .btn-primary:hover { box-shadow: 0 10px 25px rgba(29,51,74,0.4); }
        .btn-sms { background: linear-gradient(45deg, #25d366, #128c7e); color: white; box-shadow: 0 6px 18px rgba(37,211,102,0.3); }
        .btn-sms:hover { box-shadow: 0 10px 25px rgba(37,211,102,0.4); }
        .btn-copy { background: linear-gradient(45deg, #4f46e5, #7c3aed); color: white; box-shadow: 0 6px 18px rgba(79,70,229,0.3); }
        .btn-copy:hover { box-shadow: 0 10px 25px rgba(79,70,229,0.4); }
        .btn-copy.copied { background: linear-gradient(45deg, #10b981, #059669); }
        .btn-orange { background: linear-gradient(45deg, #f2970f, #e08a0a); color: white; box-shadow: 0 6px 18px rgba(242,151,15,0.3); }
        .btn-orange:hover { box-shadow: 0 10px 25px rgba(242,151,15,0.4); }
        .btn-green { background: linear-gradient(45deg, #10b981, #059669); color: white; box-shadow: 0 6px 18px rgba(16,185,129,0.3); }
        .btn-row { display: flex; gap: 12px; margin-top: 24px; flex-wrap: wrap; }

        /* =================== FORM INFO BOX =================== */
        .form-info-box {
            background: linear-gradient(135deg, #e8f4fd, #d1ecf1);
            border: 2px solid #bee3f8;
            border-radius: 14px;
            padding: 16px 20px;
            margin-bottom: 22px;
            font-size: 14px;
            color: #2b6cb0;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* =================== ESTIMATE BUILDER =================== */
        .estimate-section { margin-top: 10px; }
        .pricing-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 14px; margin-bottom: 24px; }
        
        .price-item {
            background: #f8faff;
            border: 2px solid #e2e8f0;
            border-radius: 14px;
            padding: 16px 18px;
            cursor: pointer;
            transition: all 0.22s;
            display: flex;
            align-items: flex-start;
            gap: 12px;
            user-select: none;
        }
        .price-item:hover { border-color: #f2970f; background: #fff8ef; transform: translateY(-2px); }
        .price-item.selected { border-color: #f2970f; background: #fff4e0; box-shadow: 0 4px 14px rgba(242,151,15,0.2); }
        .price-item.mandatory { border-color: #ef4444; background: #fff5f5; }
        .price-item.mandatory.selected { border-color: #ef4444; background: #fee2e2; box-shadow: 0 4px 14px rgba(239,68,68,0.2); }

        .price-checkbox {
            width: 22px; height: 22px; border-radius: 6px;
            border: 2px solid #cbd5e0; background: white;
            display: flex; align-items: center; justify-content: center;
            flex-shrink: 0; margin-top: 2px; transition: all 0.2s;
            font-size: 13px;
        }
        .price-item.selected .price-checkbox { background: #f2970f; border-color: #f2970f; color: white; }
        .price-item.mandatory .price-checkbox { background: #ef4444; border-color: #ef4444; color: white; }

        .price-info { flex: 1; }
        .price-name { font-size: 14px; font-weight: 700; color: #1d334a; margin-bottom: 3px; }
        .price-amount { font-size: 18px; font-weight: 800; color: #f2970f; }
        .price-item.mandatory .price-amount { color: #ef4444; }
        .price-monthly { font-size: 11px; color: #718096; margin-top: 3px; font-style: italic; }
        .price-desc { font-size: 11px; color: #a0aec0; margin-top: 2px; }
        .mandatory-badge {
            display: inline-block; background: #fee2e2; color: #ef4444;
            font-size: 10px; font-weight: 700; padding: 2px 8px;
            border-radius: 10px; margin-left: 6px; text-transform: uppercase;
        }

        /* =================== TOTAL BOX =================== */
        .total-box {
            background: linear-gradient(135deg, #1d334a, #2a4a6a);
            border-radius: 18px;
            padding: 24px 28px;
            color: white;
            margin-top: 20px;
        }
        .total-box-title { font-size: 14px; font-weight: 600; opacity: 0.8; margin-bottom: 6px; text-transform: uppercase; letter-spacing: 1px; }
        .total-amount { font-size: 42px; font-weight: 900; color: #f2970f; line-height: 1; }
        .total-note { font-size: 12px; opacity: 0.7; margin-top: 8px; }
        .total-breakdown { margin-top: 14px; border-top: 1px solid rgba(255,255,255,0.15); padding-top: 14px; }
        .breakdown-item { display: flex; justify-content: space-between; font-size: 13px; margin-bottom: 6px; opacity: 0.9; }
        .breakdown-item.monthly-note { opacity: 0.6; font-style: italic; font-size: 12px; }
        .monthly-summary { margin-top: 10px; padding-top: 10px; border-top: 1px dashed rgba(255,255,255,0.2); font-size: 13px; color: #fbbf24; }

        /* =================== MODAL =================== */
        .modal-overlay {
            display: none; position: fixed; top: 0; left: 0;
            width: 100%; height: 100%; background: rgba(0,0,0,0.6);
            z-index: 9999; align-items: center; justify-content: center;
            backdrop-filter: blur(4px);
        }
        .modal-overlay.open { display: flex; }
        .modal-box {
            background: white; border-radius: 24px; padding: 36px 40px;
            max-width: 440px; width: 90%; box-shadow: 0 30px 60px rgba(0,0,0,0.3);
            animation: popIn 0.3s ease;
        }
        @keyframes popIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
        .modal-title { font-size: 22px; font-weight: 800; color: #1d334a; margin-bottom: 6px; }
        .modal-subtitle { font-size: 14px; color: #718096; margin-bottom: 24px; }
        .modal-input {
            width: 100%; padding: 14px 18px;
            border: 2px solid #e2e8f0; border-radius: 12px;
            font-size: 16px; color: #1d334a; outline: none;
            transition: border-color 0.2s; margin-bottom: 18px;
        }
        .modal-input:focus { border-color: #f2970f; box-shadow: 0 0 0 3px rgba(242,151,15,0.12); }
        .modal-buttons { display: flex; gap: 12px; }
        .modal-cancel { background: #f7fafc; color: #718096; border: 2px solid #e2e8f0; padding: 12px 20px; border-radius: 10px; font-weight: 700; cursor: pointer; font-size: 14px; flex: 1; }
        .modal-cancel:hover { background: #edf2f7; }

        /* =================== SUCCESS TOAST =================== */
        .toast {
            position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%) translateY(100px);
            background: #1d334a; color: white; padding: 14px 28px;
            border-radius: 50px; font-weight: 700; font-size: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3); z-index: 99999;
            transition: transform 0.4s ease; display: flex; align-items: center; gap: 10px;
        }
        .toast.show { transform: translateX(-50%) translateY(0); }

        /* =================== FOOTER =================== */
        .ws-footer {
            background: rgba(255,255,255,0.15);
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            color: white;
            font-size: 13px;
        }

        /* =================== RESPONSIVE =================== */
        @media (max-width: 640px) {
            .card { padding: 24px 20px; }
            .ws-header { padding: 20px; }
            .form-grid { grid-template-columns: 1fr; }
            .pricing-grid { grid-template-columns: 1fr; }
            .btn-row { flex-direction: column; }
            .btn-row .btn { width: 100%; justify-content: center; }
            .modal-buttons { flex-direction: column; }
        }
    </style>
</head>
<body>

<div class="main-container">

    <!-- HEADER -->
    <div class="ws-header">
        <div class="ws-logo">ü¶¢</div>
        <div class="ws-header-text">
            <h1>WebSwan</h1>
            <p>Prospect Form & Estimate Builder ‚Ä¢ 2026</p>
        </div>
    </div>

    <!-- ================================================
         SECTION 1: PROSPECT INTAKE FORM
    ================================================ -->
    <div class="card">
        <div class="card-title">üìã Prospect Intake Form</div>
        <div class="card-subtitle">Fill this out for your prospect ‚Äî or copy the link to send it to them to fill out themselves</div>
        <div class="section-divider"></div>

        <div class="form-info-box">
            üì§ <span>Share this form with your prospect by clicking <strong>Copy Form Link</strong> below ‚Äî they fill it out and hit <strong>Submit via SMS</strong> to send it straight to you!</span>
        </div>

        <div class="form-grid">
            <div class="field-group">
                <label>üë§ Full Name *</label>
                <input type="text" id="pName" placeholder="Prospect's full name">
            </div>
            <div class="field-group">
                <label>üì± Phone Number *</label>
                <input type="tel" id="pPhone" placeholder="(555) 555-5555">
            </div>
            <div class="field-group">
                <label>üè¢ Business Name *</label>
                <input type="text" id="pBusiness" placeholder="Business name">
            </div>
            <div class="field-group">
                <label>üåê Business URL</label>
                <input type="url" id="pUrl" placeholder="https://www.yourbusiness.com">
            </div>
            <div class="field-group form-full">
                <label>üõ†Ô∏è Service Interested In</label>
                <select id="pService">
                    <option value="">-- Select a Service --</option>
                    <option value="Web Design">üé® Web Design</option>
                    <option value="Landing Page">üìÑ Landing Page</option>
                    <option value="Estimate">üí∞ Estimate</option>
                    <option value="Advertising">üì¢ Advertising</option>
                </select>
            </div>
        </div>

        <div class="btn-row">
            <!-- SMS SUBMIT ‚Äî sends form info to Judith at 9172240828 -->
            <button class="btn btn-sms" onclick="submitFormViaSMS()">
                üí¨ Submit via SMS
            </button>
            <!-- COPY LINK ‚Äî copies a shareable link to this form -->
            <button class="btn btn-copy" id="copyFormLinkBtn" onclick="copyFormLink()">
                üîó Copy Form Link
            </button>
        </div>
    </div>

    <!-- ================================================
         SECTION 2: ESTIMATE BUILDER
    ================================================ -->
    <div class="card">
        <div class="card-title">üí∞ Estimate Builder</div>
        <div class="card-subtitle">Select services to build the estimate ‚Äî then send it to your prospect via SMS</div>
        <div class="section-divider"></div>

        <div class="estimate-section">
            <p style="font-size:13px; font-weight:700; color:#4a5568; text-transform:uppercase; letter-spacing:1px; margin-bottom:14px;">
                üî¥ Mandatory (Compliance) &nbsp;|&nbsp; üü° Click to Select Add-Ons
            </p>

            <div class="pricing-grid">

                <!-- ADDON: Custom Standard Web Design (NOT mandatory) -->
                <div class="price-item" id="item-webdesign" onclick="toggleItem('webdesign', 999, 109, false)">
                    <div class="price-checkbox"></div>
                    <div class="price-info">
                        <div class="price-name">Custom Standard Web Design</div>
                        <div class="price-amount">$999 <span style="font-size:13px; color:#718096;">one-time</span></div>
                        <div class="price-monthly">+ $109/mo hosting, maintenance & security</div>
                    </div>
                </div>

                <!-- MANDATORY: Compliance Banners -->
                <div class="price-item mandatory selected" id="item-compliance" onclick="toggleItem('compliance', 300, 39, true)">
                    <div class="price-checkbox">‚úì</div>
                    <div class="price-info">
                        <div class="price-name">Compliance Banners <span class="mandatory-badge">Required</span></div>
                        <div class="price-amount">$300 <span style="font-size:13px; color:#ef4444;">one-time setup</span></div>
                        <div class="price-monthly">+ $39/mo hosting & maintenance</div>
                    </div>
                </div>

                <!-- ADDON: Landing Page Lead Generation -->
                <div class="price-item" id="item-landing" onclick="toggleItem('landing', 1599, 89, false)">
                    <div class="price-checkbox"></div>
                    <div class="price-info">
                        <div class="price-name">Landing Page Lead Generation</div>
                        <div class="price-amount">$1,599 <span style="font-size:13px; color:#718096;">one-time</span></div>
                        <div class="price-monthly">+ $89/mo maintenance</div>
                    </div>
                </div>

                <!-- ADDON: Start-Up App -->
                <div class="price-item" id="item-startupapp" onclick="toggleItem('startupapp', 969, 69, false)" style="grid-column: 1 / -1; border-left: 4px solid #7c3aed;">
                    <div class="price-checkbox"></div>
                    <div class="price-info">
                        <div class="price-name" style="color:#7c3aed; font-size:15px;">üì± Start-Up App <span style="background:#ede9fe; color:#7c3aed; font-size:10px; font-weight:700; padding:2px 8px; border-radius:10px; margin-left:6px;">NEW</span></div>
                        <div class="price-amount" style="color:#7c3aed;">$969 <span style="font-size:13px; color:#718096;">one-time</span></div>
                        <div class="price-monthly" style="color:#6d28d9;">+ $69/mo hosting & maintenance</div>
                        <div class="price-desc" style="margin-top:6px; color:#4a5568;">
                            Includes: <strong>üìÖ Calendar & booking appointment</strong> + <strong>üìã Question form</strong> (no booking required) + <strong>üì± Custom QR Code</strong> with your app link
                        </div>
                    </div>
                </div>

                <!-- ADDON: Start-Up App ‚Äî Real Estate Lead Form Add-On -->
                <div class="price-item" id="item-realestateform" onclick="toggleItem('realestateform', 150, 0, false)" style="border-left: 3px dashed #7c3aed;">
                    <div class="price-checkbox"></div>
                    <div class="price-info">
                        <div class="price-name">‚Ü≥ Real Estate Lead Form <span style="background:#ede9fe; color:#7c3aed; font-size:10px; font-weight:700; padding:2px 8px; border-radius:10px; margin-left:4px;">App Add-On</span></div>
                        <div class="price-amount">$150 <span style="font-size:13px; color:#718096;">one-time</span></div>
                        <div class="price-desc">Capture real estate leads directly in your app</div>
                    </div>
                </div>

                <!-- ADDON: Start-Up App ‚Äî Additional Lead Generation Form -->
                <div class="price-item" id="item-leadform" onclick="toggleItem('leadform', 150, 0, false)" style="border-left: 3px dashed #7c3aed;">
                    <div class="price-checkbox"></div>
                    <div class="price-info">
                        <div class="price-name">‚Ü≥ Additional Lead Generation Form <span style="background:#ede9fe; color:#7c3aed; font-size:10px; font-weight:700; padding:2px 8px; border-radius:10px; margin-left:4px;">App Add-On</span></div>
                        <div class="price-amount">$150 <span style="font-size:13px; color:#718096;">per form</span></div>
                        <div class="price-desc">Any additional lead generation or custom form</div>
                    </div>
                </div>

                <!-- ADDON: Online Advertising ‚Äî Full Page -->
                <div class="price-item" id="item-adsfull" onclick="toggleItem('adsfull', 0, 197, false)">
                    <div class="price-checkbox"></div>
                    <div class="price-info">
                        <div class="price-name">Online Advertising ‚Äî Full Page</div>
                        <div class="price-amount" style="color:#3b82f6;">$197<span style="font-size:13px;">/mo</span></div>
                        <div class="price-desc" style="color:#10b981; font-weight:600;">‚ú® No setup fee when you have a web design with us!</div>
                    </div>
                </div>

                <!-- ADDON: Online Advertising ‚Äî Partial/Section -->
                <div class="price-item" id="item-adspartial" onclick="toggleItem('adspartial', 0, 109, false)">
                    <div class="price-checkbox"></div>
                    <div class="price-info">
                        <div class="price-name">Online Advertising ‚Äî Partial/Section</div>
                        <div class="price-amount" style="color:#3b82f6;">$109<span style="font-size:13px;">/mo</span></div>
                        <div class="price-desc" style="color:#10b981; font-weight:600;">‚ú® No setup fee when you have a web design with us!</div>
                    </div>
                </div>

                <!-- ADDON: Reputation Management -->
                <div class="price-item" id="item-reputation" onclick="toggleItem('reputation', 0, 109, false)">
                    <div class="price-checkbox"></div>
                    <div class="price-info">
                        <div class="price-name">Reputation Management</div>
                        <div class="price-amount" style="color:#3b82f6;">$109<span style="font-size:13px;">/mo</span></div>
                        <div class="price-desc">Monitor & protect your online reputation</div>
                    </div>
                </div>

                <!-- ADDON: Logo Design -->
                <div class="price-item" id="item-logo" onclick="toggleItem('logo', 195, 0, false)">
                    <div class="price-checkbox"></div>
                    <div class="price-info">
                        <div class="price-name">Logo Design</div>
                        <div class="price-amount">$195 <span style="font-size:13px; color:#718096;">one-time</span></div>
                        <div class="price-desc">Professional brand logo</div>
                    </div>
                </div>

                <!-- ADDON: Extra Links -->
                <div class="price-item" id="item-links" onclick="toggleItem('links', 300, 0, false)">
                    <div class="price-checkbox"></div>
                    <div class="price-info">
                        <div class="price-name">Extra Links</div>
                        <div class="price-amount">$300 <span style="font-size:13px; color:#718096;">one-time</span></div>
                        <div class="price-desc">Additional pages & navigation links</div>
                    </div>
                </div>

                <!-- ADDON: Calendar & Form -->
                <div class="price-item" id="item-calendar" onclick="toggleItem('calendar', 450, 0, false)">
                    <div class="price-checkbox"></div>
                    <div class="price-info">
                        <div class="price-name">Calendar & Appointment Form</div>
                        <div class="price-amount">$450 <span style="font-size:13px; color:#718096;">one-time</span></div>
                        <div class="price-desc">Online booking + contact forms</div>
                    </div>
                </div>

                <!-- ADDON: SEO Content -->
                <div class="price-item" id="item-seo" onclick="toggleItem('seo', 250, 0, false)">
                    <div class="price-checkbox"></div>
                    <div class="price-info">
                        <div class="price-name">SEO Content</div>
                        <div class="price-amount">$250 <span style="font-size:13px; color:#718096;">per page</span></div>
                        <div class="price-desc">Search engine optimized content</div>
                    </div>
                </div>

                <!-- ADDON: Language Translator -->
                <div class="price-item" id="item-translator" onclick="toggleItem('translator', 150, 0, false)">
                    <div class="price-checkbox"></div>
                    <div class="price-info">
                        <div class="price-name">Language Translator</div>
                        <div class="price-amount">$150 <span style="font-size:13px; color:#718096;">one-time setup</span></div>
                        <div class="price-desc">Multi-language website support</div>
                    </div>
                </div>

                <!-- ADDON: Custom QR Code -->
                <div class="price-item" id="item-qr" onclick="toggleItem('qr', 55, 0, false)">
                    <div class="price-checkbox"></div>
                    <div class="price-info">
                        <div class="price-name">Custom QR Code</div>
                        <div class="price-amount">$55 <span style="font-size:13px; color:#718096;">one-time</span></div>
                        <div class="price-desc">Branded QR code for your business</div>
                    </div>
                </div>

            </div>

            <!-- TOTAL BOX -->
            <div class="total-box">
                <div class="total-box-title">üìä Project Total Estimate</div>
                <div class="total-amount" id="totalAmount">$300</div>
                <div class="total-note">One-time project investment</div>
                <div class="total-breakdown" id="totalBreakdown"></div>
                <div class="monthly-summary" id="monthlySummary"></div>
            </div>

            <div class="btn-row">
                <button class="btn btn-orange" onclick="calculateEstimate()">
                    üßÆ Calculate Estimate
                </button>
                <button class="btn btn-sms" onclick="openSendEstimateModal()">
                    üí¨ Send Estimate via SMS
                </button>
            </div>
        </div>
    </div>

    <!-- FOOTER -->
    <div class="ws-footer">
        ü¶¢ WebSwan ‚Ä¢ Judith ‚Ä¢ Custom Web Design ‚Ä¢ Compliance Audits ‚Ä¢ Advertising<br>
        <span style="opacity:0.7; font-size:12px;">¬© 2026 WebSwan ‚Äî All pricing confidential and property of WebSwan</span>
    </div>

</div><!-- end main-container -->

<!-- ================================================
     MODAL: Send Estimate ‚Äî Enter Prospect Phone
================================================ -->
<div class="modal-overlay" id="estimateModal">
    <div class="modal-box">
        <div class="modal-title">üí¨ Send Estimate via SMS</div>
        <div class="modal-subtitle">Enter your prospect's phone number to send them the full estimate breakdown.</div>
        <input type="tel" class="modal-input" id="estimatePhone" placeholder="(555) 555-5555" maxlength="15">
        <div class="modal-buttons">
            <button class="modal-cancel" onclick="closeEstimateModal()">Cancel</button>
            <button class="btn btn-sms" style="flex:2; justify-content:center;" onclick="sendEstimateSMS()">
                üí¨ Send Estimate Now
            </button>
        </div>
    </div>
</div>

<!-- TOAST NOTIFICATION -->
<div class="toast" id="toast">‚úÖ Sent!</div>

<script>
    // ================================================
    // PRICING DATA
    // ================================================
    const items = {
        webdesign:      { price: 999,  monthly: 109, label: 'Custom Standard Web Design',              mandatory: false, selected: false },
        compliance:     { price: 300,  monthly: 39,  label: 'Compliance Banners',                      mandatory: true,  selected: true  },
        landing:        { price: 1599, monthly: 89,  label: 'Landing Page Lead Generation',            mandatory: false, selected: false },
        startupapp:     { price: 969,  monthly: 69,  label: 'Start-Up App (Calendar + Form + QR Code)',mandatory: false, selected: false },
        realestateform: { price: 150,  monthly: 0,   label: '‚Ü≥ App Add-On: Real Estate Lead Form',    mandatory: false, selected: false },
        leadform:       { price: 150,  monthly: 0,   label: '‚Ü≥ App Add-On: Additional Lead Gen Form', mandatory: false, selected: false },
        adsfull:        { price: 0,    monthly: 197, label: 'Online Advertising ‚Äî Full Page',          mandatory: false, selected: false },
        adspartial:     { price: 0,    monthly: 109, label: 'Online Advertising ‚Äî Partial/Section',    mandatory: false, selected: false },
        reputation:     { price: 0,    monthly: 109, label: 'Reputation Management',                   mandatory: false, selected: false },
        logo:           { price: 195,  monthly: 0,   label: 'Logo Design',                             mandatory: false, selected: false },
        links:          { price: 300,  monthly: 0,   label: 'Extra Links',                             mandatory: false, selected: false },
        calendar:       { price: 450,  monthly: 0,   label: 'Calendar & Appointment Form',             mandatory: false, selected: false },
        seo:            { price: 250,  monthly: 0,   label: 'SEO Content (per page)',                  mandatory: false, selected: false },
        translator:     { price: 150,  monthly: 0,   label: 'Language Translator',                     mandatory: false, selected: false },
        qr:             { price: 55,   monthly: 0,   label: 'Custom QR Code',                          mandatory: false, selected: false }
    };

    // ================================================
    // TOGGLE ITEM SELECTION
    // ================================================
    function toggleItem(key, price, monthly, mandatory) {
        if (mandatory) return; // mandatory items can't be deselected
        items[key].selected = !items[key].selected;
        const el = document.getElementById('item-' + key);
        const checkbox = el.querySelector('.price-checkbox');
        if (items[key].selected) {
            el.classList.add('selected');
            checkbox.textContent = '‚úì';
        } else {
            el.classList.remove('selected');
            checkbox.textContent = '';
        }
        calculateEstimate();
    }

    // ================================================
    // CALCULATE ESTIMATE
    // ================================================
    function calculateEstimate() {
        let total = 0;
        let monthlyTotal = 0;
        let breakdown = '';
        let monthlyBreakdown = '';

        for (const key in items) {
            if (items[key].selected) {
                total += items[key].price;
                if (items[key].monthly > 0) {
                    monthlyTotal += items[key].monthly;
                }
                breakdown += `<div class="breakdown-item">
                    <span>${items[key].label}</span>
                    <span>$${items[key].price.toLocaleString()}</span>
                </div>`;
                if (items[key].monthly > 0) {
                    monthlyBreakdown += `${items[key].label}: $${items[key].monthly}/mo | `;
                }
            }
        }

        document.getElementById('totalAmount').textContent = '$' + total.toLocaleString();
        document.getElementById('totalBreakdown').innerHTML = breakdown;

        if (monthlyTotal > 0) {
            document.getElementById('monthlySummary').innerHTML =
                `üìÖ Monthly payments: <strong>$${monthlyTotal}/mo</strong><br>
                 <span style="font-size:11px; opacity:0.8;">${monthlyBreakdown.slice(0, -3)}</span>`;
        } else {
            document.getElementById('monthlySummary').innerHTML = '';
        }

        return { total, monthlyTotal };
    }

    // ================================================
    // BUILD ESTIMATE TEXT FOR SMS
    // ================================================
    function buildEstimateText() {
        const { total, monthlyTotal } = calculateEstimate();
        let lines = ['ü¶¢ WebSwan Project Estimate', '================================'];
        for (const key in items) {
            if (items[key].selected) {
                let line = `‚úÖ ${items[key].label}: $${items[key].price.toLocaleString()}`;
                if (items[key].monthly > 0) line += ` (+ $${items[key].monthly}/mo)`;
                lines.push(line);
            }
        }
        lines.push('================================');
        lines.push(`üí∞ TOTAL: $${total.toLocaleString()} one-time`);
        if (monthlyTotal > 0) lines.push(`üìÖ Monthly: $${monthlyTotal}/mo ongoing`);
        lines.push('');
        lines.push('Questions? Contact Judith at WebSwan!');
        lines.push('üåê webswan.com');
        return lines.join('\n');
    }

    // ================================================
    // OPEN / CLOSE ESTIMATE MODAL
    // ================================================
    function openSendEstimateModal() {
        calculateEstimate();
        document.getElementById('estimatePhone').value = '';
        document.getElementById('estimateModal').classList.add('open');
        setTimeout(() => document.getElementById('estimatePhone').focus(), 200);
    }
    function closeEstimateModal() {
        document.getElementById('estimateModal').classList.remove('open');
    }

    // ================================================
    // SEND ESTIMATE VIA SMS
    // ================================================
    function sendEstimateSMS() {
        const phone = document.getElementById('estimatePhone').value.replace(/\D/g,'');
        if (phone.length < 10) {
            alert('Please enter a valid phone number (10 digits).');
            return;
        }
        const msg = buildEstimateText();
        const smsUrl = 'sms:' + phone + '?body=' + encodeURIComponent(msg);
        window.open(smsUrl, '_blank');
        closeEstimateModal();
        showToast('üì§ Estimate sent to ' + formatPhone(phone) + '!');
    }

    // ================================================
    // SUBMIT FORM VIA SMS ‚Äî sends to Judith 9172240828
    // ================================================
    function submitFormViaSMS() {
        const name     = document.getElementById('pName').value.trim();
        const phone    = document.getElementById('pPhone').value.trim();
        const business = document.getElementById('pBusiness').value.trim();
        const url      = document.getElementById('pUrl').value.trim();
        const service  = document.getElementById('pService').value;

        if (!name || !phone || !business) {
            alert('Please fill in Name, Phone Number, and Business Name before submitting.');
            return;
        }

        const msg = [
            'ü¶¢ NEW WEBSWAN PROSPECT',
            '========================',
            'üë§ Name: ' + name,
            'üì± Phone: ' + phone,
            'üè¢ Business: ' + business,
            'üåê URL: ' + (url || 'Not provided'),
            'üõ†Ô∏è Service: ' + (service || 'Not selected'),
            '========================',
            'üìÖ Submitted: ' + new Date().toLocaleString()
        ].join('\n');

        // Texts Judith at 9172240828
        const smsUrl = 'sms:9172240828?body=' + encodeURIComponent(msg);
        window.open(smsUrl, '_blank');
        showToast('üí¨ Form submitted to Judith!');
    }

    // ================================================
    // COPY FORM LINK
    // ================================================
    function copyFormLink() {
        const link = window.location.href.split('?')[0];
        const btn = document.getElementById('copyFormLinkBtn');
        navigator.clipboard.writeText(link).then(function() {
            btn.innerHTML = '‚úÖ Link Copied!';
            btn.classList.add('copied');
            showToast('üîó Form link copied ‚Äî send to your prospect!');
            setTimeout(function() {
                btn.innerHTML = 'üîó Copy Form Link';
                btn.classList.remove('copied');
            }, 3000);
        }).catch(function() {
            const ta = document.createElement('textarea');
            ta.value = link;
            document.body.appendChild(ta);
            ta.select();
            document.execCommand('copy');
            document.body.removeChild(ta);
            btn.innerHTML = '‚úÖ Link Copied!';
            btn.classList.add('copied');
            showToast('üîó Form link copied ‚Äî send to your prospect!');
            setTimeout(function() {
                btn.innerHTML = 'üîó Copy Form Link';
                btn.classList.remove('copied');
            }, 3000);
        });
    }

    // ================================================
    // TOAST HELPER
    // ================================================
    function showToast(msg) {
        const t = document.getElementById('toast');
        t.textContent = msg;
        t.classList.add('show');
        setTimeout(() => t.classList.remove('show'), 3500);
    }

    function formatPhone(digits) {
        if (digits.length === 10) return '(' + digits.slice(0,3) + ') ' + digits.slice(3,6) + '-' + digits.slice(6);
        return digits;
    }

    // Close modal on overlay click
    document.getElementById('estimateModal').addEventListener('click', function(e) {
        if (e.target === this) closeEstimateModal();
    });

    // Enter key on phone input sends estimate
    document.getElementById('estimatePhone').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') sendEstimateSMS();
    });

    // Calculate on load to set initial total
    document.addEventListener('DOMContentLoaded', calculateEstimate);
    calculateEstimate();
</script>
</body>
</html>
